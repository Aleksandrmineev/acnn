/* =============================
   File: css/projects.css
   Scope: Projects page
   Relies on global variables defined in your main CSS
============================= */
.projects .section-title {
    margin-top: 100px;
}
/* Page scope */
.projects { --chip-gap: 8px; --grid-gap: var(--gap); }

/* Header */
.projects__header { margin-block: var(--section-padding) calc(var(--gap) * .5); }
.projects__title { color: var(--clr-text); }
.projects__lead { color: var(--clr-text-light); }


/* ==== Content + Aside layout (right sidebar) ==== */
.projects__layout {
    display: grid;
    grid-template-columns: minmax(0,1fr) 300px; /* по умолчанию: контент | сайдбар */
    gap: var(--gap);
    align-items: start;
    grid-template-areas: "content aside";
  }
  
  .projects__grid {
    grid-area: content;
  }
  
  .projects__aside {
    grid-area: aside;
  }
  
  /* Сайдбар закреплён деликатно */
  .projects__aside {
    position: sticky;
    top: calc(var(--gap) + 10px); /* отступ от верха */
    margin-top: 30px;
  }
  
  /* Тулбар над сеткой (поиск + сортировка) */
  .projects-toolbar{
    display: flex;
    gap: var(--gap);
    align-items: center;
    flex-wrap: wrap;
    margin-block: calc(var(--gap) * .75);
  }
  .projects-toolbar .input,
  .projects-toolbar .select{
    height: 42px;
    padding: 0 12px;
    border: 1px solid #dde1ea;
    border-radius: var(--btn-radius);
    background: var(--clr-white);
    color: var(--clr-text);
  }
  
  /* Адаптив: сайдбар вниз */
  @media (max-width: 1024px){
    .projects__layout{
      grid-template-columns: 1fr;
    }
    .projects__aside{
      position: static;
      order: 2;
    }
  }
  

/* Controls */
.projects__controls {
  position: sticky; top: 0; z-index: 2;
  background: var(--clr-gray);
  padding-block: calc(var(--gap) * .75);
  border-block: 1px solid #e6e9ef;
  backdrop-filter: blur(2px);
}
.projects-filter { display: grid; gap: var(--gap); }
.projects-filter__legend { font-weight: 600; margin-bottom: 8px; color: var(--clr-text); }
.projects-filter__chips { display: flex; flex-wrap: wrap; gap: var(--chip-gap); }
.chip {
  appearance: none; cursor: pointer;
  border: 1px solid #dde1ea; background: var(--clr-white);
  border-radius: 999px; padding: 8px 12px; line-height: 1;
  font: inherit; color: var(--clr-text);
  transition: border-color .2s ease, background-color .2s ease, color .2s ease;
}
.chip:is(:hover,:focus-visible){ border-color: var(--clr-accent); }
.chip.is-active{ background: var(--btn-bg); color: var(--btn-color); border-color: var(--btn-bg); }

.projects-filter__row{ display:flex; gap: var(--gap); align-items:center; flex-wrap: wrap; }
.projects-filter__search .input,
.projects-filter__sort .select{
  height: 42px; padding: 0 12px; border:1px solid #dde1ea; border-radius: var(--btn-radius);
  background: var(--clr-white); font: inherit; color: var(--clr-text);
}

/* Grid */
.projects__grid{
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap: var(--grid-gap);
  margin-block: calc(var(--gap) * 1.5);
}
@media (max-width:1024px){ .projects__grid{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (max-width:640px){ .projects__grid{ grid-template-columns:1fr; } }

/* Card */
.project-card{
  display:flex; flex-direction:column; background: var(--clr-white);
  border:1px solid #e6e9ef; border-radius: var(--radius); overflow:hidden; box-shadow: var(--shadow-card);
  transition: transform .2s ease, box-shadow .2s ease;
}
.project-card:hover{ transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,.08); }

.project-card__media{ display:block; aspect-ratio:16/10; background: var(--clr-light-bg); }
.project-card__media img{ inline-size:100%; block-size:100%; aspect-ratio:16/10;object-fit:cover; display:block; }

.project-card__body{ padding: calc(var(--gap) * .9); }
.project-card__title{
  margin:0 0 6px; font-size: var(--font-size-card-title2);
  line-height: var(--line-height-base); color: var(--clr-card-title);
}
.project-card__title a{ text-decoration:none; color: inherit; }
.project-card__title a:hover{ text-decoration: underline; }

.project-card__meta{
  display:flex; flex-wrap:wrap; gap: 8px 14px;
  margin:0 0 8px; padding:0; list-style:none;
  color: var(--clr-text-light); font-size: var(--font-size-card-item);
}
.project-card__excerpt{ margin:0 0 12px; color: var(--clr-text); }
.project-card__cta{ align-self:flex-start; }

/* Pagination */
.projects__pagination{
  display:flex; align-items:center; justify-content:space-between; flex-wrap: wrap;
  gap: var(--gap); margin-block: var(--gap) calc(var(--section-padding) * .6);
}
.pagination{ display:flex; gap: 6px; list-style:none; margin:0; padding:0; }
.pagination__link{
  display:inline-flex; align-items:center; justify-content:center;
  min-inline-size:36px; height:36px; border:1px solid #dde1ea;
  border-radius: var(--btn-radius); text-decoration:none; color: var(--clr-text);
  padding-inline:8px; background: var(--clr-white);
}
.pagination__link.is-active{ background: var(--btn-bg); color: var(--btn-color); border-color: var(--btn-bg); }
.pagination__link.is-disabled{ opacity:.45; pointer-events:none; }

/* Empty state */
.projects__empty{
  padding: 24px; border:1px dashed #dde1ea; border-radius: var(--radius);
  text-align:center; color: var(--clr-text-light); background: var(--clr-light-bg);
}

/* A11y */
.sr-only{
  position:absolute; inline-size:1px; block-size:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

[hidden] {
    display: none;
  }

  @media (max-width: 1024px) {
    .projects__layout {
      grid-template-columns: 1fr; 
      grid-template-areas: 
        "aside"
        "content";
    }

    .projects__aside {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: var(--gap); 
        flex-wrap: wrap;
    }

    .projects-filter { 
        display: grid; 
        gap: var(--gap); 
        width: 50%;
    }
  }

  @media (max-width: 650px) {
    .projects-filter { 
        width: 100%;
    }

    .projects-toolbar {
        width: 100%;
    }
  }